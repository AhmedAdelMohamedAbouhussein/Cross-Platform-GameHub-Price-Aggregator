import{r as c,A as f,b as p,j as e,e as m,k as j,l as x,H as v,F,a as N}from"./index-s9mJZwp5.js";import{S as h,a as k,b as u,c as g}from"./index-BZHxkRdd.js";const y="_container_v9cjp_1",I="_page_v9cjp_11",b="_top_v9cjp_20",S="_iconCircle_v9cjp_36",B="_title_v9cjp_48",E="_friendList_v9cjp_54",A="_friendBar_v9cjp_63",C="_friendImage_v9cjp_78",L="_friendInfo_v9cjp_86",P="_friendName_v9cjp_92",G="_friendId_v9cjp_97",U="_friendLink_v9cjp_102",D="_noFriends_v9cjp_113",w="_addFriendBtn_v9cjp_120",n={container:y,page:I,top:b,iconCircle:S,title:B,friendList:E,friendBar:A,friendImage:C,friendInfo:L,friendName:P,friendId:G,friendLink:U,noFriends:D,addFriendBtn:w};function O(){const{user:r}=c.useContext(f),[d,t]=c.useState(null),o=p();c.useEffect(()=>{const i=async()=>{try{const a=await N.post("undefined/api/users/friendlist",{userId:r._id});t(a.data.friends),console.log("Fetched friends:",a.data.friends)}catch(a){console.error("Failed to fetch friends:",a)}};r?._id&&i()},[r,void 0]);const l=[{key:"User",label:"App Friends",icon:m,color:"#FFD700"},{key:"Steam",label:"Steam Friends",icon:j,color:"#091cb2ff"},{key:"Xbox",label:"Xbox Friends",icon:x,color:"#107C10"},{key:"Epic",label:"Epic Games Friends",icon:h,color:"#444"},{key:"PS",label:"PlayStation Friends",icon:k,color:"#003087"},{key:"Nintendo",label:"Nintendo Friends",icon:u,color:"#E60012"},{key:"GOG",label:"GOG Friends",icon:g,color:"#6c43a1"}];return e.jsxs("div",{className:n.container,children:[e.jsx(v,{}),l.map(i=>{const a=i.icon;return e.jsxs("div",{className:n.page,children:[e.jsxs("div",{className:n.top,children:[e.jsx("div",{className:n.iconCircle,style:{backgroundColor:i.color},children:e.jsx(a,{size:36})}),e.jsx("div",{className:n.info,children:e.jsx("h1",{className:n.title,children:i.label})}),i.key==="User"&&e.jsx("button",{className:n.addFriendBtn,onClick:()=>o("/managefriends"),children:" Manage Friends "})]}),e.jsx("ul",{className:n.friendList,children:d?.[i.key]?.filter(s=>s.status==="accepted").length>0?d[i.key].filter(s=>s.status==="accepted").map((s,_)=>e.jsxs("li",{className:n.friendBar,children:[e.jsx("div",{className:n.friendImage,children:s.avatar&&e.jsx("img",{src:s.avatar,alt:s.displayName||"Friend avatar",className:n.avatar})}),e.jsxs("div",{className:n.friendInfo,children:[e.jsxs("div",{className:n.friendName,children:[" ",s.displayName||"Unknown"," "]}),s.externalId&&e.jsxs("div",{className:n.friendId,children:[" ",i.key," ID: ",s.externalId," "]}),s.profileUrl&&e.jsx("a",{href:s.profileUrl,target:"_blank",rel:"noreferrer",className:n.friendLink,children:" View Profile "})]})]},_)):e.jsx("li",{className:n.noFriends,children:"No accepted friends found"})})]},i.key)}),e.jsx(F,{})]})}export{O as default};
